(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{160:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Ce}));var n=r(21),l=r.n(n),s=r(33),o=r.n(s),i=r(161),c=r(0),a=r(7),u=r(78),h=r(162),d=r(244),f=r(59),b=r(18),j=r.n(b),O=r(37),y=r(17),g=r(9);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){for(var t=e.currentColor,r=e.colors,n=void 0===r?[]:r,l=e.disabled,s=void 0!==l&&l,o=e.onChange,i=void 0===o?function(){}:o,c=e.size,u=void 0===c?"default":c,h=e.style,d=void 0===h?{}:h,f=arguments.length,b=new Array(f>1?f-1:0),j=1;j<f;j++)b[j-1]=arguments[j];return Object(g.jsx)(a.default,{style:y.default.style("flex-row items-center justify-center p-4",{"web:min-h-36":"small"!==u},d),children:n.map((function(e,r){return Object(g.jsx)(O.default,p({accessibilityLabel:e,accessibilityRole:"button",accessibilityState:{disabled:s,selected:e===t},disabled:s,hitSlop:{top:5,left:5,bottom:5,right:5},style:y.default.style("h-12 w-12 bg-"+e+" mx-4",{"h-8 w-8 mx-1":"small"===u},{"border-4 border-gray-500":t==r}),onPress:function(e){return e!=t&&i(r,t)}},b),e)}))})},m=r(43),w=r.n(m),C=r(48),k=["children","style"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(e){var t=e.children,r=e.style,n=w()(e,k);return Object(g.jsx)(C.default,S(S({style:y.default.style("text-gray-900 dark:text-gray-100",r)},n),{},{children:t}))};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T,M,N,E,R,z,F,q,G,B,J,L,V,H,K,Q,U,W,X,Y,Z,$,_,ee,te,re,ne,le=function(e){for(var t=e.children,r=e.onPress,n=e.style,l=void 0===n?{}:n,s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return Object(g.jsx)(O.default,I(I({onPress:r},o),{},{children:Object(g.jsx)(A,{style:y.default.style("text-lg text-center",l),children:t})}))},se=function(e){var t=e.onRestart;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(A,{style:Object(y.default)(T||(T=l()(["font-bold uppercase text-center text-lg text-red-700 dark:text-red-400 mb-4"]))),children:"Game Over"}),Object(g.jsx)(le,{onPress:t,style:Object(y.default)(M||(M=l()(["bg-red-300 dark:bg-red-700 mx-auto p-2 mb-4"]))),children:"New Game"})]})},oe=function(e){var t=e.highScore,r=(e.score,e.turns);return Object(g.jsxs)(a.default,{style:Object(y.default)(N||(N=l()(["flex-row items-center justify-between web:min-h-36 py-4"]))),children:[Object(g.jsx)(A,{style:Object(y.default)(E||(E=l()(["flex-1"])))}),Object(g.jsxs)(a.default,{style:Object(y.default)(R||(R=l()(["flex-1 items-center"]))),children:[Object(g.jsx)(A,{style:Object(y.default)(z||(z=l()(["text-3xl uppercase mb-2"]))),children:"Turns"}),Object(g.jsx)(A,{style:Object(y.default)(F||(F=l()(["text-5xl font-bold"]))),children:r})]}),Object(g.jsx)(a.default,{style:Object(y.default)(q||(q=l()(["flex-1 items-center justify-center"]))),children:t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(A,{style:Object(y.default)(G||(G=l()(["text-lg uppercase mb-1"]))),children:"Best"}),Object(g.jsx)(A,{style:Object(y.default)(B||(B=l()(["text-2xl font-bold"]))),children:t})]}):null})]})},ie=r(84),ce=r(94),ae=r(154),ue=r(152),he=r(155),de=r(153),fe=function(e){var t=e.currentTheme,r=e.darkMode,n=e.onChangeDarkMode,s=void 0===n?function(){}:n,i=e.onChangeTheme,u=void 0===i?function(){}:i,f=e.themes,b=Object(c.useState)(!1),j=o()(b,2),x=j[0],p=j[1];return Object(g.jsxs)(a.default,{style:Object(y.default)(J||(J=l()(["items-end mt-2"]))),children:[Object(g.jsx)(O.default,{hitSlop:{top:10,left:10,bottom:10,right:10},style:Object(y.default)(L||(L=l()(["relative overflow-hidden mx-4 h-8 w-8"]))),onPress:function(){return p(!0)},children:Object(g.jsx)(ce.FontAwesomeIcon,{icon:ue.faGear,size:30,style:Object(y.default)(V||(V=l()(["dark:text-gray-100"])))})}),Object(g.jsx)(ie.default,{animationType:"slide",transparent:!1,visible:x,onRequestClose:function(){p(!x)},children:Object(g.jsx)(h.SafeAreaProvider,{children:Object(g.jsx)(d.SafeAreaView,{style:Object(y.default)(H||(H=l()(["flex-1 bg-white dark:bg-black"]))),children:Object(g.jsxs)(a.default,{style:Object(y.default)(K||(K=l()(["w-full h-full max-w-3xl mx-auto px-4 py-2"]))),children:[Object(g.jsx)(O.default,{style:Object(y.default)(Q||(Q=l()(["self-end"]))),onPress:function(){return p(!1)},children:Object(g.jsx)(ce.FontAwesomeIcon,{icon:de.faTimes,size:34,style:Object(y.default)(U||(U=l()(["dark:text-gray-100"])))})}),Object(g.jsxs)(a.default,{style:Object(y.default)(W||(W=l()(["my-2"]))),children:[Object(g.jsx)(A,{style:Object(y.default)(X||(X=l()(["text-3xl my-1"]))),children:"Theme"}),f.map((function(e,r){return Object(g.jsx)(v,{colors:e,size:"small",style:Object(y.default)(Y||(Y=l()(["",""])),t===r?"border-2 border-gray-300 dark:border-gray-600":""),onChange:u},r)}))]}),Object(g.jsxs)(a.default,{style:Object(y.default)(Z||(Z=l()(["flex-row items-center justify-between mt-4"]))),children:[Object(g.jsx)(A,{style:Object(y.default)($||($=l()(["text-3xl my-1"]))),children:"Dark Mode"}),Object(g.jsx)(O.default,{onPress:function(){return s(!r)},children:Object(g.jsx)(ce.FontAwesomeIcon,{icon:r?ae.faCheckSquare:he.faSquare,size:34,style:Object(y.default)(_||(_=l()(["text-gray-300 dark:text-gray-100"])))})})]})]})})})})]})},be=r(4),je=r.n(be),Oe=r(5),ye=r.n(Oe),ge=function(){function e(t){je()(this,e),this.x=t.x,this.y=t.y,this.color=t.color}return ye()(e,[{key:"changeColor",value:function(e){this.color=e}}]),e}(),xe=function(){function e(t){je()(this,e),this.options=t}return ye()(e,[{key:"generate",value:function(){var e=this.options.colors||["red-500","green-500","blue-500","purple-500"];this.cells=[];for(var t=this.options.width||4,r=this.options.height||4,n=this.options.startingColor,l=0,s=0;s<r;s++)for(var o=0;o<t;o++){var i=Math.floor(Math.random()*e.length);this.cells[l]=new ge({x:o,y:s,color:i}),l++}return void 0!=n&&(this.cells[0]=new ge({x:0,y:0,color:n})),this.totalTiles=l,this.cells}},{key:"getCellAt",value:function(e,t){return this.cells.find((function(r){return r.x==e&&r.y==t}))}},{key:"getIndexAt",value:function(e,t){return this.cells.findIndex((function(r){return r.x==e&&r.y==t}))}},{key:"setColor",value:function(e){var t,r=null==(t=this.cells[0])?void 0:t.color;return this.options.debug&&console.log("player changed color from "+r+" to "+e),this.tilesChanged=[],this.newTiles=[],r!=e&&this.changeCellColor(0,r,e),this.tilesChanged.length}},{key:"changeCellColor",value:function(e,t,r){var n=this.cells[e];if(n.color===t&&-1===this.tilesChanged.indexOf(e)){if(this.options.debug&&console.log("Setting cell at "+n.x+","+n.y+" to "+r),n.color===t&&(n.color=r,this.tilesChanged.push(e)),n.x>0){e=this.getIndexAt(n.x-1,n.y);var l=this.cells[e];l&&l.color===t?this.changeCellColor(e,t,r):l&&l.color===r&&this.traverseNewCell(e)}if(n.x<this.options.width-1){e=this.getIndexAt(n.x+1,n.y);var s=this.cells[e];s&&s.color===t?this.changeCellColor(e,t,r):s&&s.color===r&&this.traverseNewCell(e)}if(n.y>0){e=this.getIndexAt(n.x,n.y-1);var o=this.cells[e];o&&o.color===t?this.changeCellColor(e,t,r):o&&o.color===r&&this.traverseNewCell(e)}if(n.y<this.options.height-1){e=this.getIndexAt(n.x,n.y+1);var i=this.cells[e];i&&i.color===t?this.changeCellColor(e,t,r):i&&i.color===r&&this.traverseNewCell(e)}}}},{key:"traverseNewCell",value:function(e){if(-1===this.newTiles.indexOf(e)&&-1===this.tilesChanged.indexOf(e)){var t=this.cells[e];if(this.options.debug&&console.log("Traversing new cell "+t.x+","+t.y),this.newTiles.push(e),t.x>0){e=this.getIndexAt(t.x-1,t.y);var r=this.cells[e];r&&r.color===t.color&&this.traverseNewCell(e)}if(t.x<this.options.width-1){e=this.getIndexAt(t.x+1,t.y);var n=this.cells[e];n&&n.color===t.color&&this.traverseNewCell(e)}if(t.y>0){e=this.getIndexAt(t.x,t.y-1);var l=this.cells[e];l&&l.color===t.color&&this.traverseNewCell(e)}if(t.y<this.options.height-1){e=this.getIndexAt(t.x,t.y+1);var s=this.cells[e];s&&s.color===t.color&&this.traverseNewCell(e)}}}}]),e}(),pe=ye()((function e(t,r,n){je()(this,e),this.oldColor=t,this.newColor=r,this.newTiles=n})),ve=function(){function e(t){je()(this,e),this.options=t}return ye()(e,[{key:"start",value:function(){this.turns=[],this.grid=new xe({startingColor:this.options.startingColor,colors:this.options.colors,width:this.options.columns||4,height:this.options.rows||4}),this.grid.generate(),this.gameOver=!1}},{key:"changeColor",value:function(e){if(e!=this.color){var t=this.color;this.color=e;var r=this.grid.setColor(e);this.turns.push(new pe(t,e,r)),r==this.options.columns*this.options.rows&&(this.gameOver=!0,(!this.highScore||this.turns.length<this.highScore)&&(this.highScore=this.turns.length))}}}]),e}(),me=[["blue-400","green-400","red-400","purple-400"],["rose-400","teal-400","amber-400","lime-400"]],we=function(e){var t,r=e.darkMode,n=e.setDarkMode,s=Object(c.useState)([]),i=o()(s,2),u=i[0],h=i[1],d=Object(c.useState)(0),b=o()(d,2),j=b[0],O=b[1],x=Object(c.useState)(0),p=o()(x,2),m=p[0],w=p[1],C=Object(c.useRef)(new ve({columns:11,rows:15,colors:me[m],startingColor:j})),k=C.current.gameOver,P=C.current.highScore,S=null==(t=C.current.turns)?void 0:t.length;Object(c.useEffect)((function(){A()}),[]);var A=function(){C.current.start(),h(C.current.grid.cells)};return Object(g.jsxs)(a.default,{style:Object(y.default)(ee||(ee=l()(["flex-1 w-full max-w-3xl mx-auto"]))),children:[Object(g.jsx)(fe,{currentTheme:m,darkMode:r,onChangeDarkMode:n,onChangeTheme:function(e){w((m+1)%me.length)},themes:me}),Object(g.jsx)(oe,{highScore:P,turns:S}),k&&Object(g.jsx)(se,{onRestart:A}),Object(g.jsx)(a.default,{style:Object(y.default)(te||(te=l()(["flex-grow items-center justify-center"]))),children:Object(g.jsx)(f.default,{data:u,getItemLayout:function(e,t){return{length:32,offset:32*t,index:t}},initialNumToRender:u.length,numColumns:11,refreshing:!u.length,removeClippedSubviews:!1,renderItem:function(e){var t=e.item;return Object(g.jsx)(a.default,{style:Object(y.default)(re||(re=l()(["h-8 w-8 bg-"," border border-gray-100"])),me[m][t.color])})},scrollEnabled:!1})}),!k&&Object(g.jsx)(v,{colors:me[m],currentColor:j,disabled:k,onChange:function(e,t){return function(e,t){C.current.changeColor(e),O(e)}(e)}})]})};function Ce(){Object(y.useDeviceContext)(y.default,{withDeviceColorScheme:!1});var e=Object(u.default)(),t=Object(y.useAppColorScheme)(y.default),r=o()(t,3),n=r[0],s=(r[1],r[2]),f="dark"===n;return Object(c.useEffect)((function(){s(e)}),[]),Object(g.jsx)(a.default,{style:y.default.style("flex-1 bg-white dark:bg-black",f?"bg-black":"bg-white"),children:Object(g.jsx)(h.SafeAreaProvider,{children:Object(g.jsxs)(d.SafeAreaView,{style:Object(y.default)(ne||(ne=l()(["flex-1"]))),children:[Object(g.jsx)(i.StatusBar,{style:f?"light":"dark"}),Object(g.jsx)(we,{darkMode:f,setDarkMode:function(e){return s(e?"dark":"light")}})]})})})}},164:function(e,t,r){e.exports=r(240)}},[[164,1,2]]]);
//# sourceMappingURL=app.2436f5e8.chunk.js.map