(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{162:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Je}));var l=r(16),s=r.n(l),n=r(32),o=r.n(n),c=r(163),i=r(0),a=r(7),u=r(80),d=r(164),h=r(245),f=r(61),b=r(19),j=r.n(b),y=r(30),O=r(10),x=r(8);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){for(var t=e.currentColor,r=e.colors,l=void 0===r?[]:r,s=e.disabled,n=void 0!==s&&s,o=e.onChange,c=void 0===o?function(){}:o,i=e.size,u=void 0===i?"default":i,d=e.style,h=void 0===d?{}:d,f=arguments.length,b=new Array(f>1?f-1:0),j=1;j<f;j++)b[j-1]=arguments[j];var g=function(e){return n||e==t};return Object(x.jsx)(a.default,{style:O.default.style("flex-row items-center justify-center p-4",{"web:min-h-36":"small"!==u},h),children:l.map((function(e,r){return Object(x.jsx)(y.default,p({accessibilityLabel:e,accessibilityRole:"button",accessibilityState:{disabled:n,selected:e===t},disabled:g(r),hitSlop:{top:5,left:5,bottom:5,right:5},style:O.default.style("h-12 w-12 bg-"+e+" mx-4",{"h-8 w-8 mx-1":"small"===u},{"border-4 border-gray-500":t==r}),onPress:function(e){return e!=t&&c(r,t)}},b),e)}))})},v=r(43),w=r.n(v),C=r(48),k=["children","style"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(e){var t=e.children,r=e.style,l=w()(e,k);return Object(x.jsx)(C.default,S(S({style:O.default.style("text-gray-900 dark:text-gray-100",r)},l),{},{children:t}))};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){j()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I,M,E,N,F,z,R,G,q,B,V,J,L,H,K,Q,U,W,X,Y,Z,$,_,ee,te,re,le,se,ne,oe,ce,ie,ae,ue,de,he,fe,be,je,ye,Oe,xe,ge=function(e){for(var t=e.children,r=e.onPress,l=e.style,s=void 0===l?{}:l,n=arguments.length,o=new Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];return Object(x.jsx)(y.default,T(T({onPress:r},o),{},{children:Object(x.jsx)(A,{style:O.default.style("text-lg text-center",s),children:t})}))},pe=function(e){var t=e.onRestart;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(A,{style:Object(O.default)(I||(I=s()(["font-bold uppercase text-center text-lg text-red-700 dark:text-red-400 mb-4"]))),children:"Game Over"}),Object(x.jsx)(ge,{onPress:t,style:Object(O.default)(M||(M=s()(["bg-red-300 dark:bg-red-700 mx-auto p-2 mb-4"]))),children:"New Game"})]})},me=r(53),ve=r(154),we=r(60),Ce=r(92),ke=function(e){var t=e.children,r=e.open,l=void 0!==r&&r,n=e.onClose,o=void 0===n?function(){}:n;return Object(x.jsx)(we.default,{animationType:"slide",transparent:!1,visible:l,onRequestClose:o,children:Object(x.jsx)(d.SafeAreaProvider,{children:Object(x.jsx)(h.SafeAreaView,{style:Object(O.default)(E||(E=s()(["flex-1 bg-white dark:bg-black"]))),children:Object(x.jsxs)(a.default,{style:Object(O.default)(N||(N=s()(["w-full h-full max-w-3xl mx-auto px-4 py-2"]))),children:[Object(x.jsx)(y.default,{style:Object(O.default)(F||(F=s()(["self-end"]))),onPress:o,children:Object(x.jsx)(me.FontAwesomeIcon,{icon:Ce.faTimes,size:34,style:Object(O.default)(z||(z=s()(["dark:text-gray-100"])))})}),t]})})})})},Pe=function(e){var t=e.gameMode,r=e.onChangeGameMode,l=void 0===r?function(){}:r,n=Object(i.useState)(!1),c=o()(n,2),u=c[0],d=c[1];return Object(i.useEffect)((function(){d(!1)}),[t]),Object(x.jsxs)(a.default,{style:Object(O.default)(R||(R=s()(["items-end mt-2"]))),children:[Object(x.jsx)(y.default,{hitSlop:{top:10,left:10,bottom:10,right:10},style:Object(O.default)(G||(G=s()(["relative overflow-hidden mx-4 h-8 w-8"]))),onPress:function(){return d(!0)},children:Object(x.jsx)(me.FontAwesomeIcon,{icon:ve.faBars,size:30,style:Object(O.default)(q||(q=s()(["dark:text-gray-100"])))})}),Object(x.jsx)(ke,{open:u,onClose:function(){return d(!1)},children:Object(x.jsxs)(a.default,{style:Object(O.default)(B||(B=s()(["flex-row flex-wrap mx-auto"]))),children:[Object(x.jsx)(y.default,{onPress:function(){l(1)},style:O.default.style("w-1/3 items-center border border-gray-300 rounded p-4 mr-4",{"bg-gray-300 dark:bg-gray-700":1===t}),children:Object(x.jsx)(A,{style:Object(O.default)(V||(V=s()(["text-3xl uppercase my-1"]))),children:"Solo"})}),Object(x.jsx)(y.default,{onPress:function(){l(2)},style:O.default.style("w-1/3 items-center border border-gray-300 rounded p-4 ml-4",{"bg-gray-300 dark:bg-gray-700":2===t}),children:Object(x.jsx)(A,{style:Object(O.default)(J||(J=s()(["text-3xl uppercase my-1"]))),children:"Duo"})})]})})]})},Se=function(e){var t=e.currentPlayer,r=e.gameMode,l=e.highScore,n=e.scores,o=e.turns;return Object(x.jsx)(a.default,{style:Object(O.default)(L||(L=s()(["flex-row items-center justify-between web:min-h-36 p-4"]))),children:1===r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(A,{style:Object(O.default)(H||(H=s()(["flex-1"])))}),Object(x.jsxs)(a.default,{style:Object(O.default)(K||(K=s()(["flex-1 items-center"]))),children:[Object(x.jsx)(A,{style:Object(O.default)(Q||(Q=s()(["text-3xl uppercase mb-2"]))),children:"Turns"}),Object(x.jsx)(A,{style:Object(O.default)(U||(U=s()(["text-5xl font-bold"]))),children:o})]}),Object(x.jsx)(a.default,{style:Object(O.default)(W||(W=s()(["flex-1 items-center justify-center"]))),children:l?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(A,{style:Object(O.default)(X||(X=s()(["text-lg uppercase mb-1"]))),children:"Best"}),Object(x.jsx)(A,{style:Object(O.default)(Y||(Y=s()(["text-2xl font-bold"]))),children:l})]}):null})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(a.default,{style:O.default.style("flex-1 items-center justify-center",{"border-2 border-gray-500 dark:border-gray-300":0==t}),children:[Object(x.jsx)(A,{style:Object(O.default)(Z||(Z=s()(["text-lg uppercase mb-1"]))),children:"Player 1"}),Object(x.jsx)(A,{style:Object(O.default)($||($=s()(["text-2xl font-bold"]))),children:n[0]})]}),Object(x.jsxs)(a.default,{style:O.default.style("flex-1 items-center justify-center",{"border-2 border-gray-500 dark:border-gray-300":1==t}),children:[Object(x.jsx)(A,{style:Object(O.default)(_||(_=s()(["text-lg uppercase mb-1"]))),children:"Player 2"}),Object(x.jsx)(A,{style:Object(O.default)(ee||(ee=s()(["text-2xl font-bold"]))),children:n[1]})]})]})})},Ae=r(156),De=r(155),Te=r(157),Ie=function(e){var t=e.currentTheme,r=e.darkMode,l=e.onChangeDarkMode,n=void 0===l?function(){}:l,c=e.onChangeTheme,u=void 0===c?function(){}:c,f=e.themes,b=Object(i.useState)(!1),j=o()(b,2),g=j[0],p=j[1];return Object(x.jsxs)(a.default,{style:Object(O.default)(te||(te=s()(["items-end mt-2"]))),children:[Object(x.jsx)(y.default,{hitSlop:{top:10,left:10,bottom:10,right:10},style:Object(O.default)(re||(re=s()(["relative overflow-hidden mx-4 h-8 w-8"]))),onPress:function(){return p(!0)},children:Object(x.jsx)(me.FontAwesomeIcon,{icon:De.faGear,size:30,style:Object(O.default)(le||(le=s()(["dark:text-gray-100"])))})}),Object(x.jsx)(we.default,{animationType:"slide",transparent:!1,visible:g,onRequestClose:function(){p(!g)},children:Object(x.jsx)(d.SafeAreaProvider,{children:Object(x.jsx)(h.SafeAreaView,{style:Object(O.default)(se||(se=s()(["flex-1 bg-white dark:bg-black"]))),children:Object(x.jsxs)(a.default,{style:Object(O.default)(ne||(ne=s()(["w-full h-full max-w-3xl mx-auto px-4 py-2"]))),children:[Object(x.jsx)(y.default,{style:Object(O.default)(oe||(oe=s()(["self-end"]))),onPress:function(){return p(!1)},children:Object(x.jsx)(me.FontAwesomeIcon,{icon:Ce.faTimes,size:34,style:Object(O.default)(ce||(ce=s()(["dark:text-gray-100"])))})}),Object(x.jsxs)(a.default,{style:Object(O.default)(ie||(ie=s()(["my-2"]))),children:[Object(x.jsx)(A,{style:Object(O.default)(ae||(ae=s()(["text-3xl my-1"]))),children:"Theme"}),f.map((function(e,r){return Object(x.jsx)(m,{colors:e,size:"small",style:Object(O.default)(ue||(ue=s()(["",""])),t===r?"border-2 border-gray-300 dark:border-gray-600":""),onChange:u},r)}))]}),Object(x.jsxs)(a.default,{style:Object(O.default)(de||(de=s()(["flex-row items-center justify-between mt-4"]))),children:[Object(x.jsx)(A,{style:Object(O.default)(he||(he=s()(["text-3xl my-1"]))),children:"Dark Mode"}),Object(x.jsx)(y.default,{onPress:function(){return n(!r)},children:Object(x.jsx)(me.FontAwesomeIcon,{icon:r?Ae.faCheckSquare:Te.faSquare,size:34,style:Object(O.default)(fe||(fe=s()(["text-gray-300 dark:text-gray-100"])))})})]})]})})})})]})},Me=r(4),Ee=r.n(Me),Ne=r(5),Fe=r.n(Ne),ze=function(){function e(t){Ee()(this,e),this.x=t.x,this.y=t.y,this.color=t.color}return Fe()(e,[{key:"changeColor",value:function(e){this.color=e}}]),e}(),Re=function(){function e(t){Ee()(this,e),this.options=t}return Fe()(e,[{key:"generate",value:function(){var e=this.options.colors||["red-500","green-500","blue-500","purple-500"];this.cells=[];for(var t=this.options.width||4,r=this.options.height||4,l=this.options.startingColor,s=0,n=0;n<r;n++)for(var o=0;o<t;o++){var c=Math.floor(Math.random()*e.length);this.cells[s]=new ze({x:o,y:n,color:c}),s++}return void 0!=l&&(this.cells[0]=new ze({x:0,y:0,color:l})),this.totalTiles=s,this.cells}},{key:"getCellAt",value:function(e,t){return this.cells.find((function(r){return r.x==e&&r.y==t}))}},{key:"getIndexAt",value:function(e,t){return this.cells.findIndex((function(r){return r.x==e&&r.y==t}))}},{key:"setColor",value:function(e,t){var r,l=1==t?this.cells.length-1:0,s=null==(r=this.cells[l])?void 0:r.color;return this.tilesChanged=[],this.newTiles=[],this.options.debug&&console.log("player "+t+" changed color from "+this.options.colors[s]+" to "+this.options.colors[e],this.cells.length),s!=e&&this.changeCellColor(l,s,e),this.tilesChanged.length}},{key:"changeCellColor",value:function(e,t,r){var l=this.cells[e];if(l.color===t&&-1===this.tilesChanged.indexOf(e)){if(this.options.debug&&console.log("Setting cell at "+l.x+","+l.y+" to "+r),l.color===t&&(l.color=r,this.tilesChanged.push(e)),l.x>0){e=this.getIndexAt(l.x-1,l.y);var s=this.cells[e];s.color===t?this.changeCellColor(e,t,r):s.color===r&&this.traverseNewCell(e)}if(l.x<this.options.width-1){e=this.getIndexAt(l.x+1,l.y);var n=this.cells[e];n.color===t?this.changeCellColor(e,t,r):n.color===r&&this.traverseNewCell(e)}if(l.y>0){e=this.getIndexAt(l.x,l.y-1);var o=this.cells[e];o.color===t?this.changeCellColor(e,t,r):o.color===r&&this.traverseNewCell(e)}if(l.y<this.options.height-1){e=this.getIndexAt(l.x,l.y+1);var c=this.cells[e];c.color===t?this.changeCellColor(e,t,r):c.color===r&&this.traverseNewCell(e)}}}},{key:"traverseNewCell",value:function(e){if(-1===this.newTiles.indexOf(e)&&-1===this.tilesChanged.indexOf(e)){var t=this.cells[e];if(this.options.debug&&console.log("Traversing new cell "+t.x+","+t.y),this.newTiles.push(e),t.x>0)e=this.getIndexAt(t.x-1,t.y),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.x<this.options.width-1)e=this.getIndexAt(t.x+1,t.y),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.y>0)e=this.getIndexAt(t.x,t.y-1),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.y<this.options.height-1)e=this.getIndexAt(t.x,t.y+1),this.cells[e].color===t.color&&this.traverseNewCell(e)}}}]),e}(),Ge=Fe()((function e(t,r,l,s){Ee()(this,e),this.oldColor=t,this.newColor=r,this.newTiles=l,this.player=s})),qe=function(){function e(t){Ee()(this,e),this.options=t}return Fe()(e,[{key:"start",value:function(){this.turns=[],this.color=this.options.startingColor,this.grid=new Re({startingColor:this.options.startingColor,colors:this.options.colors,width:this.options.columns||4,height:this.options.rows||4}),this.grid.generate(),this.gameOver=!1,this.scores=Array(this.options.players+1||1).fill(0)}},{key:"colorIsTaken",value:function(e){var t;return e==this.color||(null==(t=this.options)?void 0:t.players)>1&&(e==this.grid.getCellAt(0,0).color||e==this.grid.getCellAt(this.options.columns-1,this.options.rows-1).color)}},{key:"changeColor",value:function(e,t){if(!this.colorIsTaken(e)){var r=this.color;this.color=e;var l=this.grid.setColor(e,t),s=this.grid.newTiles.length||0;return this.turns.push(new Ge(r,e,s,t)),this.scores[t]=this.scores[t]+s,l+s>=this.options.columns*this.options.rows/this.options.players&&(this.gameOver=!0,(!this.highScore||this.turns.length<this.highScore)&&(this.highScore=this.turns.length)),e}}},{key:"playerColor",value:function(e){var t,r=1==e?this.grid.cells.length-1:0;return null==(t=this.grid.cells[r])?void 0:t.color}}]),e}(),Be=[["blue-400","green-400","red-400","purple-400"],["rose-400","teal-400","amber-400","lime-400"]],Ve=function(e){var t,r=e.darkMode,l=e.setDarkMode,n=Object(i.useState)([]),c=o()(n,2),u=c[0],d=c[1],h=Object(i.useState)(0),b=o()(h,2),j=b[0],y=b[1],g=Object(i.useState)(0),p=o()(g,2),v=p[0],w=p[1],C=Object(i.useState)(0),k=o()(C,2),P=k[0],S=k[1],A=Object(i.useState)(1),D=o()(A,2),T=D[0],I=D[1],M=Object(i.useRef)(new qe({columns:11,rows:15,players:T,colors:Be[P],startingColor:j})),E=M.current.gameOver,N=M.current.highScore,F=null==(t=M.current.turns)?void 0:t.length,z=M.current.scores;Object(i.useEffect)((function(){R()}),[]),Object(i.useEffect)((function(){R()}),[T]);var R=function(){y(M.current.options.startingColor),w(0),M.current=new qe({columns:11,rows:15,players:T,colors:Be[P],startingColor:j}),M.current.start(),d(M.current.grid.cells)};return Object(x.jsxs)(a.default,{style:Object(O.default)(be||(be=s()(["flex-1 w-full max-w-3xl mx-auto"]))),children:[Object(x.jsxs)(a.default,{style:Object(O.default)(je||(je=s()(["flex-row items-center justify-between"]))),children:[Object(x.jsx)(Pe,{gameMode:T,onChangeGameMode:I}),Object(x.jsx)(Ie,{currentTheme:P,darkMode:r,onChangeDarkMode:l,onChangeTheme:function(e){S((P+1)%Be.length)},themes:Be})]}),Object(x.jsx)(Se,{currentPlayer:v,gameMode:T,highScore:N,scores:z,turns:F}),E&&Object(x.jsx)(pe,{onRestart:R}),Object(x.jsx)(a.default,{style:Object(O.default)(ye||(ye=s()(["flex-grow items-center justify-center"]))),children:Object(x.jsx)(f.default,{data:u,getItemLayout:function(e,t){return{length:32,offset:32*t,index:t}},initialNumToRender:u.length,numColumns:11,refreshing:!u.length,removeClippedSubviews:!1,renderItem:function(e){var t=e.item;return Object(x.jsx)(a.default,{style:Object(O.default)(Oe||(Oe=s()(["h-8 w-8 bg-"," border border-gray-100"])),Be[P][t.color])})},scrollEnabled:!1})}),!E&&Object(x.jsx)(m,{colors:Be[P],currentColor:j,currentPlayer:v,disabled:E,players:T,onChange:function(e){if(M.current.changeColor(e,v)===e){var t=(v+1)%T;y(M.current.playerColor(t)),w(t)}}})]})};function Je(){Object(O.useDeviceContext)(O.default,{withDeviceColorScheme:!1});var e=Object(u.default)(),t=Object(O.useAppColorScheme)(O.default),r=o()(t,3),l=r[0],n=(r[1],r[2]),f="dark"===l;return Object(i.useEffect)((function(){n(e)}),[]),Object(x.jsx)(a.default,{style:O.default.style("flex-1 bg-white dark:bg-black",f?"bg-black":"bg-white"),children:Object(x.jsx)(d.SafeAreaProvider,{children:Object(x.jsxs)(h.SafeAreaView,{style:Object(O.default)(xe||(xe=s()(["flex-1"]))),children:[Object(x.jsx)(c.StatusBar,{style:f?"light":"dark"}),Object(x.jsx)(Ve,{darkMode:f,setDarkMode:function(e){return n(e?"dark":"light")}})]})})})}},165:function(e,t,r){e.exports=r(241)}},[[165,1,2]]]);
//# sourceMappingURL=app.e6c4dcf1.chunk.js.map