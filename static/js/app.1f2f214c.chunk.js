(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{160:function(e,t,l){"use strict";l.r(t),l.d(t,"default",(function(){return xe}));var r,n,s=l(22),o=l.n(s),i=l(29),c=l.n(i),a=l(161),u=l(0),h=l(7),d=l(78),f=l(162),b=l(244),j=l(41),x=l(18),O=l(13),y=function(e){var t=e.currentColor,l=e.colors,r=void 0===l?[]:l,n=e.disabled,s=void 0!==n&&n,o=e.onChange,i=void 0===o?function(){}:o,c=e.size,a=void 0===c?"default":c,u=e.style,d=void 0===u?{}:u;return Object(O.jsx)(h.default,{style:x.default.style("flex-row items-center justify-center p-4",{"web:min-h-24":"small"!==a},d),children:r.map((function(e,l){return Object(O.jsx)(j.default,{accessibilityLabel:e,accessibilityRole:"button",accessibilityState:{disabled:s,selected:e===t},disabled:s,hitSlop:{top:5,left:5,bottom:5,right:5},style:x.default.style("h-12 w-12 bg-"+e+" mx-4",{"h-8 w-8 mx-1":"small"===a},{"border-4 border-gray-500":t==l}),onPress:function(e){return e!=t&&i(l)}},e)}))})},g=l(59),v=l(40),p=l(5),w=l.n(p),m=l(6),C=l.n(m),k=function(){function e(t){w()(this,e),this.x=t.x,this.y=t.y,this.color=t.color}return C()(e,[{key:"changeColor",value:function(e){this.color=e}}]),e}(),S=function(){function e(t){w()(this,e),this.options=t}return C()(e,[{key:"generate",value:function(){var e=this.options.colors||["red-500","green-500","blue-500","purple-500"];this.cells=[];for(var t=this.options.width||4,l=this.options.height||4,r=0,n=0;n<l;n++)for(var s=0;s<t;s++){var o=Math.floor(Math.random()*e.length);this.cells[r]=new k({x:s,y:n,color:o}),r++}return void 0!=this.options.startingColor&&(this.cells[0]=new k({x:0,y:0,color:this.options.startingColor})),this.totalTiles=r,this.cells}},{key:"getCellAt",value:function(e,t){return this.cells.find((function(l){return l.x==e&&l.y==t}))}},{key:"getIndexAt",value:function(e,t){return this.cells.findIndex((function(l){return l.x==e&&l.y==t}))}},{key:"setColor",value:function(e){var t,l=null==(t=this.cells[0])?void 0:t.color;return this.options.debug&&console.log("player changed color from "+l+" to "+e),this.tilesChanged=[],this.newTiles=[],l!=e&&this.changeCellColor(0,l,e),this.newTiles.length}},{key:"changeCellColor",value:function(e,t,l){var r=this.cells[e];if(r.color===t&&-1===this.tilesChanged.indexOf(e)){if(this.options.debug&&console.log("Setting cell at "+r.x+","+r.y+" to "+l),r.color===t&&(r.color=l,this.tilesChanged.push(e)),r.x>0){e=this.getIndexAt(r.x-1,r.y);var n=this.cells[e];n.color===t?this.changeCellColor(e,t,l):n.color===l&&this.traverseNewCell(e)}if(r.x<this.options.width-1){e=this.getIndexAt(r.x+1,r.y);var s=this.cells[e];s.color===t?this.changeCellColor(e,t,l):s.color===l&&this.traverseNewCell(e)}if(r.y>0){e=this.getIndexAt(r.x,r.y-1);var o=this.cells[e];o.color===t?this.changeCellColor(e,t,l):o.color===l&&this.traverseNewCell(e)}if(r.y<this.options.height-1){e=this.getIndexAt(r.x,r.y+1);var i=this.cells[e];i.color===t?this.changeCellColor(e,t,l):i.color===l&&this.traverseNewCell(e)}}}},{key:"traverseNewCell",value:function(e){if(-1===this.newTiles.indexOf(e)&&-1===this.tilesChanged.indexOf(e)){var t=this.cells[e];if(this.options.debug&&console.log("Traversing new cell "+t.x+","+t.y),this.newTiles.push(e),t.x>0)e=this.getIndexAt(t.x-1,t.y),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.x<this.options.width-1)e=this.getIndexAt(t.x+1,t.y),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.y>0)e=this.getIndexAt(t.x,t.y-1),this.cells[e].color===t.color&&this.traverseNewCell(e);if(t.y<this.options.height-1)e=this.getIndexAt(t.x,t.y+1),this.cells[e].color===t.color&&this.traverseNewCell(e)}}}]),e}(),A=function(e){var t=e.width,l=void 0===t?10:t,s=e.height,i=void 0===s?15:s,a=e.colors,d=void 0===a?["red-400","green-400","blue-400","purple-400"]:a,f=e.currentColor,b=e.onScoreChange,j=void 0===b?function(){}:b,y=Object(u.useState)([]),p=c()(y,2),w=p[0],m=p[1],C=Object(u.useState)(),k=c()(C,2),A=k[0],I=k[1];return Object(u.useEffect)((function(){var e=new S({startingColor:f,colors:d,width:l,height:i});I(e),m(e.generate())}),[]),Object(u.useEffect)((function(){if(A){var e=A.setColor(f);m(A.cells),j(e)}}),[f]),w.length?Object(O.jsx)(h.default,{style:Object(x.default)(r||(r=o()(["flex-grow items-center justify-center"]))),children:Object(O.jsx)(g.default,{data:w,getItemLayout:function(e,t){return{length:32,offset:32*t,index:t}},initialNumToRender:w.length,numColumns:l,refreshing:!w.length,removeClippedSubviews:!1,renderItem:function(e){var t=e.item;return Object(O.jsx)(h.default,{style:Object(x.default)(n||(n=o()(["h-8 w-8 bg-"," border border-gray-100"])),d[t.color])})},scrollEnabled:!1})}):Object(O.jsx)(v.default,{children:"GRID GOES HERE"})},I=l(19),T=l.n(I),P=l(44),D=l.n(P),M=["children","style"];function E(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function N(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?E(Object(l),!0).forEach((function(t){T()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):E(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var z,R,G,q,F,J,L,V,B,H,K,Q,U,W,X,Y,Z,$,_,ee,te,le,re,ne=function(e){var t=e.children,l=e.style,r=D()(e,M);return Object(O.jsx)(v.default,N(N({style:x.default.style("text-gray-900 dark:text-gray-100",l)},r),{},{children:t}))},se=function(e){var t=e.score,l=e.turns;return Object(O.jsxs)(h.default,{style:Object(x.default)(z||(z=o()(["flex-row items-center justify-between web:min-h-36 py-4"]))),children:[Object(O.jsx)(ne,{style:Object(x.default)(R||(R=o()(["flex-1"])))}),Object(O.jsxs)(h.default,{style:Object(x.default)(G||(G=o()(["flex-1 items-center"]))),children:[Object(O.jsx)(ne,{style:Object(x.default)(q||(q=o()(["text-3xl uppercase mb-2"]))),children:"Score"}),Object(O.jsx)(ne,{style:Object(x.default)(F||(F=o()(["text-5xl font-bold"]))),children:t})]}),Object(O.jsxs)(h.default,{style:Object(x.default)(J||(J=o()(["flex-1 items-center justify-center"]))),children:[Object(O.jsx)(ne,{style:Object(x.default)(L||(L=o()(["text-lg uppercase mb-1"]))),children:"Turns"}),Object(O.jsx)(ne,{style:Object(x.default)(V||(V=o()(["text-2xl font-bold"]))),children:l})]})]})},oe=C()((function e(t,l,r){w()(this,e),this.oldColor=t,this.newColor=l,this.newTiles=r})),ie=l(84),ce=l(94),ae=l(154),ue=l(152),he=l(155),de=l(153),fe=function(e){var t=e.currentTheme,l=e.darkMode,r=e.onChangeDarkMode,n=void 0===r?function(){}:r,s=e.onChangeTheme,i=void 0===s?function(){}:s,a=e.themes,d=Object(u.useState)(!1),g=c()(d,2),v=g[0],p=g[1];return Object(O.jsxs)(h.default,{style:Object(x.default)(B||(B=o()(["items-end mt-2"]))),children:[Object(O.jsx)(j.default,{hitSlop:{top:10,left:10,bottom:10,right:10},style:Object(x.default)(H||(H=o()(["relative overflow-hidden mx-4 h-8 w-8"]))),onPress:function(){return p(!0)},children:Object(O.jsx)(ce.FontAwesomeIcon,{icon:ue.faGear,size:30,style:Object(x.default)(K||(K=o()(["dark:text-gray-100"])))})}),Object(O.jsx)(ie.default,{animationType:"slide",transparent:!1,visible:v,onRequestClose:function(){p(!v)},children:Object(O.jsx)(f.SafeAreaProvider,{children:Object(O.jsx)(b.SafeAreaView,{style:Object(x.default)(Q||(Q=o()(["flex-1 bg-white dark:bg-black"]))),children:Object(O.jsxs)(h.default,{style:Object(x.default)(U||(U=o()(["w-full h-full max-w-3xl mx-auto px-4 py-2"]))),children:[Object(O.jsx)(j.default,{style:Object(x.default)(W||(W=o()(["self-end"]))),onPress:function(){return p(!1)},children:Object(O.jsx)(ce.FontAwesomeIcon,{icon:de.faTimes,size:34,style:Object(x.default)(X||(X=o()(["dark:text-gray-100"])))})}),Object(O.jsxs)(h.default,{style:Object(x.default)(Y||(Y=o()(["my-2"]))),children:[Object(O.jsx)(ne,{style:Object(x.default)(Z||(Z=o()(["text-3xl my-1"]))),children:"Theme"}),a.map((function(e,l){return Object(O.jsx)(y,{colors:e,size:"small",style:Object(x.default)($||($=o()(["",""])),t===l?"border-2 border-gray-300 dark:border-gray-600":""),onChange:i},l)}))]}),Object(O.jsxs)(h.default,{style:Object(x.default)(_||(_=o()(["flex-row items-center justify-between mt-4"]))),children:[Object(O.jsx)(ne,{style:Object(x.default)(ee||(ee=o()(["text-3xl my-1"]))),children:"Dark Mode"}),Object(O.jsx)(j.default,{onPress:function(){return n(!l)},children:Object(O.jsx)(ce.FontAwesomeIcon,{icon:l?ae.faCheckSquare:he.faSquare,size:34,style:Object(x.default)(te||(te=o()(["text-gray-300 dark:text-gray-100"])))})})]})]})})})})]})},be=[["blue-400","green-400","red-400","purple-400"],["rose-400","teal-400","amber-400","lime-400"]],je=function(e){var t=e.darkMode,l=e.setDarkMode,r=Object(u.useState)(0),n=c()(r,2),s=n[0],i=n[1],a=Object(u.useState)(!1),d=c()(a,2),f=d[0],b=d[1],j=Object(u.useState)(),g=c()(j,2),v=g[0],p=g[1],w=Object(u.useState)(0),m=c()(w,2),C=m[0],k=m[1],S=Object(u.useState)([]),I=c()(S,2),T=I[0],P=I[1],D=Object(u.useState)(0),M=c()(D,2),E=M[0],N=M[1];Object(u.useEffect)((function(){T.length&&T[0].tilesChanged+C===165&&b(!0)}),[T]);return Object(O.jsxs)(h.default,{style:Object(x.default)(le||(le=o()(["flex-1 w-full max-w-3xl mx-auto"]))),children:[Object(O.jsx)(fe,{currentTheme:E,darkMode:t,onChangeDarkMode:l,onChangeTheme:function(){N((E+1)%be.length)},themes:be}),Object(O.jsx)(se,{score:C,turns:T.length}),f?Object(O.jsx)(ne,{children:"Game Over!"}):null,Object(O.jsx)(A,{colors:be[E],currentColor:s,height:15,width:11,onScoreChange:function(e){T.push(new oe(v,s,e)),P(T),k(C+e)}}),Object(O.jsx)(y,{colors:be[E],currentColor:s,disabled:f,onChange:function(e){return function(e){p(s),i(e)}(e)}})]})};function xe(){Object(x.useDeviceContext)(x.default,{withDeviceColorScheme:!1});var e=Object(d.default)(),t=Object(x.useAppColorScheme)(x.default),l=c()(t,3),r=l[0],n=(l[1],l[2]),s="dark"===r;return Object(u.useEffect)((function(){n(e)}),[]),Object(O.jsx)(h.default,{style:x.default.style("flex-1 bg-white dark:bg-black",s?"bg-black":"bg-white"),children:Object(O.jsx)(f.SafeAreaProvider,{children:Object(O.jsxs)(b.SafeAreaView,{style:Object(x.default)(re||(re=o()(["flex-1"]))),children:[Object(O.jsx)(a.StatusBar,{style:s?"light":"dark"}),Object(O.jsx)(je,{darkMode:s,setDarkMode:function(e){return n(e?"dark":"light")}})]})})})}},164:function(e,t,l){e.exports=l(240)}},[[164,1,2]]]);
//# sourceMappingURL=app.1f2f214c.chunk.js.map